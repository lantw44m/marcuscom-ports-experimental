--- configure.orig	2011-09-15 16:59:35.000000000 +0200
+++ configure	2011-09-15 17:02:03.000000000 +0200
@@ -583,6 +583,9 @@
 #ifdef HAVE_SYS_TYPES_H
 # include <sys/types.h>
 #endif
+#ifdef HAVE_SYS_PARAM_H
+# include <sys/param.h>
+#endif
 #ifdef HAVE_SYS_STAT_H
 # include <sys/stat.h>
 #endif
@@ -5463,7 +5466,7 @@
 fi
 
 GLIB_RUNTIME_LIBDIR="$with_runtime_libdir"
-ABS_GLIB_RUNTIME_LIBDIR="`readlink -f $libdir/$with_runtime_libdir`"
+ABS_GLIB_RUNTIME_LIBDIR="`readlink $libdir/$with_runtime_libdir`"
 
 
  if test "x$with_runtime_libdir" != "x"; then
@@ -23331,7 +23334,7 @@
 fi
 done
 
-for ac_func in chown lchmod lchown fchmod fchown link utimes getgrgid getpwuid
+for ac_func in chown lchmod lchown fchmod fchown link utimes getgrgid getpwuid sysctlbyname
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
@@ -26124,6 +26127,8 @@
          ;;
     esac
   fi
+  G_THREAD_CFLAGS="${PTHREAD_CFLAGS}"
+  G_THREAD_LIBS="${PTHREAD_LIBS}"
 
   if test x"$G_THREAD_CFLAGS" = x; then
 
@@ -28804,7 +28809,7 @@
 fi
 
 
-if test "x${enable_Bsymbolic}" == "xyes"; then
+if test "x${enable_Bsymbolic}" = "xyes"; then
   GLIB_LINK_FLAGS=-Wl,-Bsymbolic-functions
 fi
 
